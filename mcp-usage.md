# Стартовые Промпты По Типам Задач
- Новый Проект
- Добавление Новой Функции
- Рефакторинг Кода
- Отладка Проблемы
- Миграция Технологий
- Анализ Чужого Кода
- Инициализация Memory Bank для Проекта
- Извлечение Всего Контекста из Memory Bank

# Промпты для Типичных Задач
- Валидация Установки MCP-Серверов
- Исправить Bug
- Оптимизировать Performance

# Установка MCP

## для запуска Serena MCP Server (Символьная Навигация)
powershell -c "irm https://astral.sh/uv/install.ps1 | iex"
uvx --from git+https://github.com/oraios/serena serena start-mcp-server --context ide --project .

## для запуска Context7 MCP Server (Документация Библиотек)

## для запуска Sequential Thinking MCP Server (Структурированное Планирование)
git clone https://github.com/spences10/mcp-sequentialthinking-tools.git
cd mcp-sequentialthinking-tools && npm run build

## для запуска Filesystem MCP Server (Файловые Операции)
npm install -g @modelcontextprotocol/server-filesystem

## для запуска Memory Bank MCP Server (Персистентный Контекст)
npm install -g @modelcontextprotocol/server-memory

## для запуска Puppeteer MCP Server (Браузерная Автоматизация)
npm install -g @modelcontextprotocol/server-puppeteer

## промпт для проверки работы MCP
Выполни следующие проверки:
1. Используй Serena для поиска функции main в текущем проекте
2. Используй Context7 для получения документации React hooks
3. Используй Sequential Thinking для планирования создания REST API
4. Сохрани в Memory Bank: "Тестовая проверка установки MCP-серверов"
5. Используй Filesystem для чтения package.json
6. (Опционально) Используй Puppeteer для скриншота localhost

# Общий Стартовый Промпт (Для Любой Задачи)
Используйте этот промпт в начале каждой сессии с Kilocode:

Я работаю с Kilocode и имею доступ к следующим MCP-серверам:
- Serena (символьная навигация по коду)
- Context7 (актуальная документация библиотек)
- Sequential Thinking (планирование сложных задач)
- Memory Bank (персистентный контекст между сессиями)
- Filesystem (операции с файлами)
- Puppeteer (UI-тестирование, если необходимо)

Правила работы:
1. Всегда используй Serena для операций с кодом (поиск, рефакторинг)
2. Всегда используй Context7 перед генерацией кода с внешними библиотеками
3. Используй Sequential Thinking для задач >3 шагов
4. Проверяй Memory Bank перед началом работы с известным проектом
5. Сохраняй важные архитектурные решения в Memory Bank

Для текущей задачи:
[описание задачи]

Начни с проверки Memory Bank (если проект известен) или с планирования
через Sequential Thinking (если задача сложная).

# Стартовые Промпты По Типам Задач

## Новый Проект
Создаю новый проект: [название и краткое описание]

Стек технологий: [список технологий]

Используя MCP-серверы:

1. Sequential Thinking:
   - Спланируй архитектуру проекта
   - Определи структуру папок
   - Создай план реализации основных функций

2. Context7:
   - Получи актуальную документацию для:
     * [технология 1]
     * [технология 2]
     * [технология 3]

3. Serena:
   - Создай базовую структуру файлов согласно плану

4. Memory Bank:
   - Сохрани:
     * Стек технологий
     * Архитектурные решения
     * Выбранные паттерны

Начинаем с шага 1 (Sequential Thinking).

## Добавление Новой Функции
Проект: [название проекта]

Задача: Добавить функцию [описание функции]

Workflow:

1. Memory Bank:
   - Извлеки информацию о проекте "[название]"
   - Получи контекст: используемые технологии, архитектуру, паттерны

2. Sequential Thinking (если задача сложная):
   - Спланируй реализацию функции
   - Определи затрагиваемые компоненты
   - Создай пошаговый план

3. Context7 (если используются новые библиотеки):
   - Получи актуальную документацию для [библиотека]

4. Serena:
   - Найди затрагиваемые файлы и символы
   - Реализуй функцию согласно плану

5. Memory Bank:
   - Сохрани информацию о новой функции

Начни с извлечения контекста из Memory Bank.

## Рефакторинг Кода
Проект: [название]

Задача рефакторинга: [описание]

Workflow:

1. Serena:
   - Найди все затрагиваемые символы (классы, функции)
   - Проанализируй зависимости через find_referencing_symbols

2. Sequential Thinking (если рефакторинг затрагивает >5 файлов):
   - Спланируй безопасную последовательность изменений
   - Определи риски и точки отката

3. Context7 (если используются новые паттерны):
   - Получи best practices для [паттерн]

4. Serena:
   - Выполни рефакторинг (rename_symbol, replace_symbol_body)
   - Обнови все references автоматически

5. Memory Bank:
   - Сохрани информацию о выполненном рефакторинге

ВАЖНО: Используй символьные операции Serena (rename_symbol) вместо
построчной замены для безопасного обновления всех references.

Начни с анализа через Serena.

## Отладка Проблемы
Проект: [название]

Проблема: [описание проблемы]

Симптомы: [что не работает, ошибки]

Workflow:

1. Filesystem (если есть логи):
   - Прочитай последние N строк логов
   - Найди записи, связанные с проблемой

2. Sequential Thinking:
   - Спланируй стратегию отладки
   - Определи возможные причины
   - Создай план проверки гипотез

3. Serena:
   - Найди подозрительные функции/классы
   - Проанализируй код на предмет типичных ошибок

4. Context7 (если проблема связана с библиотекой):
   - Проверь актуальность используемого API
   - Найди известные issues в документации

5. Serena:
   - Исправь найденные проблемы

6. Memory Bank:
   - Сохрани решение для будущего reference

Начни с анализа логов (если есть) или планирования отладки.

## Миграция Технологий
Проект: [название]

Миграция: с [старая технология] на [новая технология]

Workflow:

1. Memory Bank:
   - Извлеки текущую архитектуру проекта
   - Проверь, какие компоненты зависят от мигрируемой технологии

2. Sequential Thinking:
   - Создай детальный план миграции (10-15 шагов)
   - Определи зависимости между шагами
   - Идентифицируй риски и точки отката

3. Context7:
   - Получи актуальную документацию для [новая технология]
   - Получи migration guide (если существует)

4. Serena:
   - Найди все файлы, использующие [старая технология]
   - Выполни миграцию согласно плану Sequential Thinking

5. Memory Bank:
   - Обнови информацию о проекте
   - Сохрани детали миграции и возникшие проблемы

ВАЖНО: Не пропускай шаг планирования через Sequential Thinking!
Миграции без плана приводят к многократным откатам.

Начни с извлечения текущей архитектуры из Memory Bank.

## Анализ Чужого Кода
Проект: [название или путь к коду]

Задача: Проанализировать код [конкретная часть или весь проект]

Цель анализа: [понять архитектуру / найти проблемы / подготовиться к модификации]

Workflow:

1. Serena:
   - Получи overview структуры (get_symbols_overview)
   - Идентифицируй основные компоненты

2. Serena:
   - Проанализируй зависимости между компонентами
   - Используй find_referencing_symbols для ключевых функций

3. Context7 (если встречаются незнакомые библиотеки):
   - Получи документацию для [библиотека]

4. Memory Bank (если планируешь работать с проектом):
   - Сохрани обнаруженную архитектуру
   - Сохрани используемые технологии и паттерны

Результат: Краткий отчёт о структуре кода, используемых технологиях,
потенциальных проблемах и рекомендациях.

Начни с общего overview через Serena.

## Инициализация Memory Bank для Проекта
Проект: [название]

Проанализируй проект и сохрани в Memory Bank:

1. Основную информацию:
   - Тип проекта (web app, API, bot, etc.)
   - Основной язык программирования
   - Фреймворк (если используется)

2. Технологии:
   - Backend (если есть)
   - Frontend (если есть)
   - База данных
   - Внешние сервисы / API

3. Архитектурные паттерны:
   - Структура папок
   - Используемые паттерны (MVC, Repository, etc.)

4. Важные детали:
   - Система аутентификации
   - Deployment platform
   - Любые специфичные решения

Используй Serena для анализа кода и Memory Bank для сохранения.

## Извлечение Всего Контекста из Memory Bank
Покажи мне всю сохранённую информацию о проекте [название]:

1. Используй Memory Bank: search_nodes("[название проекта]")
2. Выведи:
   - Все entities связанные с проектом
   - Все relations
   - Все observations
3. Структурируй вывод по категориям:
   - Технологии
   - Архитектурные решения
   - Известные проблемы и решения
   - История изменений

Это поможет мне быстро вспомнить контекст проекта.

# Промпты для Типичных Задач

## Валидация Установки MCP-Серверов
Проверь, что все MCP-серверы работают корректно:

1. Serena:
   - Выполни find_symbol("main") в текущем проекте
   - Ожидаемый результат: найдена функция или сообщение "not found"

2. Context7:
   - Получи документацию для "React hooks"
   - Ожидаемый результат: документация с примерами

3. Sequential Thinking:
   - Создай простой план "Добавить кнопку на сайт"
   - Ожидаемый результат: план из 3-4 шагов

4. Memory Bank:
   - Сохрани тестовую entity "Test Installation"
   - Затем прочитай её обратно

5. Filesystem:
   - Прочитай package.json в корне проекта (если есть)

6. Puppeteer (опционально):
   - Сделай скриншот localhost:3000 (если сервер запущен)

Выведи результат каждой проверки: ✅ работает / ❌ ошибка.

## Добавить API Endpoint
Проект: [название]

Добавить новый API endpoint:
- Метод: [GET/POST/PUT/DELETE]
- Путь: [/api/...]
- Функция: [описание]

Workflow:

1. Memory Bank: извлечь архитектуру проекта
2. Context7: актуальная документация для используемого фреймворка
3. Serena:
   - Найти файл routes
   - Добавить новый route (insert_after_symbol)
   - Создать controller method (если нужен)
4. Memory Bank: сохранить информацию о новом endpoint

Начни с извлечения архитектуры.

## Исправить Bug
Проект: [название]

Bug: [описание бага]

Шаги воспроизведения:
1. [шаг 1]
2. [шаг 2]
3. [результат: что идёт не так]

Workflow:

1. Filesystem (если есть stack trace или логи):
   - Прочитай логи, найди error stack trace

2. Serena:
   - Найди функцию из stack trace
   - Проанализируй код на предмет проблемы

3. Context7 (если ошибка связана с библиотекой):
   - Проверь актуальность API
   - Найди известные issues

4. Serena:
   - Исправь найденную проблему

5. Memory Bank:
   - Сохрани bug report и решение

Начни с анализа логов или поиска проблемной функции.

## Оптимизировать Performance
Проект: [название]

Проблема: [что работает медленно]

Метрика: [текущее время / желаемое время]

Workflow:

1. Sequential Thinking:
   - Спланируй процесс профилирования
   - Определи возможные узкие места

2. Filesystem:
   - Прочитай performance logs (если есть)

3. Serena:
   - Найди проблемный код
   - Проанализируй queries / loops / async operations

4. Context7:
   - Получи best practices для оптимизации [конкретная технология]

5. Serena:
   - Примени оптимизации

6. Memory Bank:
   - Сохрани: "Performance issue [описание] решена через [метод]"

Начни с планирования через Sequential Thinking.



# try MCP 
hyperbrowser": {
   "command": "npx",
   "args": ["-y", "hyperbrowser-mcp"],
   "env": {
      "HYPERBROWSER_API_KEY": "ТВОЙ-КЛЮЧ-API"
   }
}